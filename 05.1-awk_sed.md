# AWK + SED

Ecco 10 esempi di come combinare l'uso di `awk` e `sed` in un ambiente Unix-like. Queste due potenti utility di testo possono essere usate insieme per effettuare manipolazioni complesse dei dati. `sed` è usato principalmente per modificare il contenuto di un file di testo attraverso espressioni regolari, mentre `awk` è eccellente per analisi e report basati su colonne.

### Esempio 1: Estrarre e Sostituire
```bash
awk '{print $2, $3}' file.txt | sed 's/ /:/'
```
Questo comando usa `awk` per stampare la seconda e la terza colonna, e `sed` per sostituire lo spazio tra queste due colonne con un due punti.

### Esempio 2: Filtrare e Rimuovere Linee
```bash
awk '$1 == "Mario"' file.txt | sed '/Rossi/d'
```
Seleziona le righe dove il primo campo è "Mario" con `awk` e poi rimuove le righe che contengono "Rossi" con `sed`.

### Esempio 3: Formattazione Complessa
```bash
awk '{print $1, $4}' file.txt | sed 's/^/Nome: /; s/ /, Salario: /'
```
Stampa nome e salario con `awk`, quindi aggiunge etichette e formatta l'output con `sed`.

### Esempio 4: Selezionare e Capitalizzare
```bash
awk '/Mario/ {print $2}' file.txt | sed 's/.*/\U&/'
```
Estrae il cognome delle righe che contengono "Mario" e poi capitalizza tutto il testo con `sed`.

### Esempio 5: Concatenare e Inserire Testo
```bash
awk '{print $1,$2}' file.txt | sed 's/^/Nome Cognome: /'
```
Combina nome e cognome in un'unica stringa con `awk` e poi antepone "Nome Cognome:" all'inizio di ogni linea con `sed`.

### Esempio 6: Filtrare e Aggiungere Colonne
```bash
awk '$3 > 100' file.txt | sed 's/$/ Ore Lavorative/'
```
Seleziona righe con più di 100 ore lavorative usando `awk` e aggiunge " Ore Lavorative" alla fine di ogni linea con `sed`.

### Esempio 7: Ordinamento e Modifica Formato
```bash
awk '{print $4, $1, $2}' file.txt | sort | sed 's/ /: /'
```
Cambia l'ordine delle colonne, le ordina, e poi sostituisce il primo spazio con due punti e uno spazio, usando `sed`.

### Esempio 8: Estrazione e Rimozione Caratteri
```bash
awk -F, '{print $2}' file.csv | sed 's/"//g'
```
Estrae la seconda colonna da un file CSV con `awk` e rimuove tutte le virgolette con `sed`.

### Esempio 9: Conteggio e Aggiunta Prefisso
```bash
awk 'END {print NR}' file.txt | sed 's/^/Numero di righe: /'
```
Conta le righe con `awk` e aggiunge "Numero di righe: " davanti al numero con `sed`.

### Esempio 10: Sostituzione e Inserimento di Testo
```bash
awk '/Luca/{print}' file.txt | sed 's/Luca/Luca Giovanni/; s/$/ - modificato/'
```
Seleziona righe che contengono "Luca" con `awk`, sostituisce "Luca" con "Luca Giovanni" e aggiunge " - modificato" alla fine della riga con `sed`.

Questi esempi dimostrano come `awk` e `sed` possano lavorare insieme per realizzare operazioni di testo complesse, combinando la potente analisi di pattern e la manipolazione di colonne di `awk` con le capacità di sostituzione e modifica di testo di `sed`.